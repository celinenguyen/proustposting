---
layout: base.njk
title: Proust Mentions in Personal Canon
---

<header>
  <h1>Proust Mentions</h1>
  <p class="subtitle">Every mention of Proust and <em>In Search of Lost Time</em> from the <a href="https://www.personalcanon.com">Personal Canon</a> newsletter.</p>
</header>

<div class="toolbar">
  <input type="search" id="search" placeholder="Search mentions...">
  <div class="view-toggle">
    <button id="view-list" class="view-btn">All Mentions</button>
    <button id="view-grouped" class="view-btn active">By Post</button>
  </div>
</div>

{% set totalMentions = 0 %}
{% set totalPosts = 0 %}
{% for url, post in mentions.posts %}
  {% set totalPosts = totalPosts + 1 %}
  {% set totalMentions = totalMentions + post.mentions.length %}
{% endfor %}
<p class="stats" id="stats"><span id="visible-count">{{ totalMentions }}</span> mentions across <span id="post-count">{{ totalPosts }}</span> posts</p>

<main id="mentions-container">
  {% for entry in mentions.posts | sortByDate %}
    {% set url = entry[0] %}
    {% set post = entry[1] %}
    <section class="post-group" data-post-url="{{ post.url }}">
      <a href="{{ post.url }}" class="post-group-header">
        <div class="post-group-text">
          <h2 class="post-group-title">{{ post.title }}</h2>
          {% if post.description %}
            <p class="post-group-description">{{ post.description }}</p>
          {% endif %}
          <span class="post-date">{{ post.pubDate | date("MMMM d, yyyy") }}</span>
        </div>
        {% if post.imageUrl %}
          <img class="post-group-image" src="{{ post.imageUrl }}" alt="" loading="lazy">
        {% endif %}
      </a>
      {% for mention in post.mentions %}
        {% set view = "grouped" %}
        {% include "mention.njk" %}
      {% endfor %}
    </section>
  {% endfor %}
</main>

<div id="no-results" class="hidden">No mentions match your search.</div>

<footer>
  <p>Last updated: {{ mentions.lastScanned | date("MMMM d, yyyy") }}</p>
  <p>Data sourced from the <a href="https://www.personalcanon.com/feed">Personal Canon RSS feed</a>.</p>
</footer>
